binds {
    // ────────────── Keybindings (Versão Final Restaurada) ──────────────

    // ─── Ajuda / Overlay ───
    MOD+SHIFT+ESCAPE { show-hotkey-overlay; }

    // ─── Aplicativos ───
    MOD+RETURN      { spawn "alacritty"; }
    MOD+CTRL+RETURN { spawn-sh "qs -c noctalia-shell ipc call launcher toggle"; }
    MOD+SPACE       { spawn-sh "qs -c noctalia-shell ipc call launcher toggle"; }
    MOD+B           { spawn "firefox"; }
    MOD+E           { spawn "nautilus"; }
    MOD+ALT+L       { spawn-sh "qs -c noctalia-shell ipc call lockScreen lock"; }

    // ─── Controles Multimídia ───
    XF86AUDIORAISEVOLUME  allow-when-locked=true { spawn-sh "qs -c noctalia-shell ipc call volume increase"; }
    XF86AUDIOLOWERVOLUME  allow-when-locked=true { spawn-sh "qs -c noctalia-shell ipc call volume decrease"; }
    XF86AUDIOMUTE         allow-when-locked=true { spawn-sh "qs -c noctalia-shell ipc call volume muteOutput"; }
    XF86MONBRIGHTNESSUP   allow-when-locked=true { spawn-sh "qs -c noctalia-shell ipc call brightness increase"; }
    XF86MONBRIGHTNESSDOWN allow-when-locked=true { spawn-sh "qs -c noctalia-shell ipc call brightness decrease"; }

    // ─── Janelas (Básico) ───
    MOD+Q { close-window; }
    
    // [RESTAURADO] Visão Geral (Overview)
    MOD+O { toggle-overview; }

    // ─── FOCO (Navegação) ───
    // Setas para navegar entre janelas/colunas
    MOD+LEFT  { focus-column-left; }
    MOD+RIGHT { focus-column-right; }
    MOD+UP    { focus-window-up; }
    MOD+DOWN  { focus-window-down; }

    // ─── MOVER JANELAS ───
    MOD+CTRL+LEFT  { move-column-left; }
    MOD+CTRL+RIGHT { move-column-right; }
    MOD+CTRL+UP    { move-window-up; }
    MOD+CTRL+DOWN  { move-window-down; }

    // ─── EMPILHAMENTO (Stacking) - ADICIONADO ───
    // Permite colocar uma janela em cima/baixo da outra na mesma coluna
    
    // Consumir (Juntar) janela na coluna
    MOD+COMMA  { consume-window-into-column; }
    MOD+PERIOD { expel-window-from-column; }
    
    // Opção alternativa com Colchetes (comum em setups Niri)
    MOD+BRACKETLEFT  { consume-or-expel-window-left; }
    MOD+BRACKETRIGHT { consume-or-expel-window-right; }

    // ─── WORKSPACES ───
    // Shift + Setas para trocar de área de trabalho
    MOD+SHIFT+UP   { focus-workspace-up; }
    MOD+SHIFT+DOWN { focus-workspace-down; }

    // Atalhos Numéricos
    MOD+1 { focus-workspace 1; }
    MOD+2 { focus-workspace 2; }
    MOD+3 { focus-workspace 3; }
    MOD+4 { focus-workspace 4; }
    MOD+5 { focus-workspace 5; }

    MOD+CTRL+1 { move-column-to-workspace 1; }
    MOD+CTRL+2 { move-column-to-workspace 2; }
    MOD+CTRL+3 { move-column-to-workspace 3; }
    MOD+CTRL+4 { move-column-to-workspace 4; }
    MOD+CTRL+5 { move-column-to-workspace 5; }

    MOD+TAB { focus-workspace-previous; }

    // ─── MOUSE SCROLL (Restaurado) ───
    // Rolar para trocar workspace
    MOD+WHEELSCROLLDOWN      cooldown-ms=150 { focus-workspace-down; }
    MOD+WHEELSCROLLUP        cooldown-ms=150 { focus-workspace-up; }
    
    // Ctrl + Rolar para levar a janela junto para o workspace
    MOD+CTRL+WHEELSCROLLDOWN cooldown-ms=150 { move-column-to-workspace-down; }
    MOD+CTRL+WHEELSCROLLUP   cooldown-ms=150 { move-column-to-workspace-up; }

    // Rolar lateral (se houver) ou Shift+Scroll para navegar nas colunas
    MOD+WHEELSCROLLRIGHT     { focus-column-right; }
    MOD+WHEELSCROLLLEFT      { focus-column-left; }

    // ─── MONITORES ───
    MOD+ALT+LEFT  { focus-monitor-left; }
    MOD+ALT+RIGHT { focus-monitor-right; }
    MOD+ALT+UP    { focus-monitor-up; }
    MOD+ALT+DOWN  { focus-monitor-down; }

    // ─── Layout e Tamanho ───
    MOD+T { toggle-window-floating; }
    MOD+C { center-column; }

    // [INVERTIDO] F = Maximizar, M = Fullscreen
    MOD+F { maximize-column; } 
    MOD+M { fullscreen-window; } 

    // Redimensionar
    MOD+MINUS { set-column-width "-10%"; }
    MOD+EQUAL { set-column-width "+10%"; }

    // ─── Sistema ───
    CTRL+SHIFT+1 { screenshot; }
    CTRL+SHIFT+2 { screenshot-screen; }
    CTRL+SHIFT+3 { screenshot-window; }

    MOD+ESCAPE allow-inhibiting=false { toggle-keyboard-shortcuts-inhibit; }
    MOD+SHIFT+E { quit; }
    MOD+SHIFT+P { power-off-monitors; }
}